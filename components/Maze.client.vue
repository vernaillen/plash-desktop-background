<script setup lang="ts">
import { Power1, Linear } from 'gsap'

import gsap from 'gsap';
import DrawSVGPlugin from 'gsap';

gsap.registerPlugin(DrawSVGPlugin)

onMounted(() => {
    const solution = ref<TweenTarget>()
    const tl = gsap.timeline({ repeat: -1, yoyo: true, repeatDelay: 0.2 });
    tl.fromTo(solution.value, 1, { x: 0 }, { x: 100 }, "+=1");
    /*tl.fromTo(solution.value, 0.3, { drawSVG: "0" }, { drawSVG: "0% 4%", ease: Power1.easeIn })// enter top
        .to(solution.value, 3, { drawSVG: "96% 100%", ease: Linear.easeNone }) // through the maze as a 4% segment
        .to(solution.value, 0.3, { drawSVG: "100% 100%" }) //exit bottom*/

    /*document.getElementById("maze").onclick = function () {
        tl.paused(!tl.paused())
    }*/
})
</script>

<template>
    <div>
        <svg id="maze" width="324" height="324" version="1.1" xmlns="http://www.w3.org/2000/svg"
            class="mx-auto my-20">
            <title>20 by 20 orthogonal maze</title>
            <desc>20 by 20 orthogonal maze generated by The Maze Generator Website (http://www.mazegenerator.net/).
            </desc>
            <g fill="none" stroke="#000000" stroke-width="2" stroke-linecap="square">
                <line x1="2" y1="2" x2="146" y2="2" />
                <line x1="162" y1="2" x2="322" y2="2" />
                <line x1="2" y1="18" x2="18" y2="18" />
                <line x1="34" y1="18" x2="98" y2="18" />
                <line x1="114" y1="18" x2="178" y2="18" />
                <line x1="194" y1="18" x2="210" y2="18" />
                <line x1="258" y1="18" x2="274" y2="18" />
                <line x1="290" y1="18" x2="306" y2="18" />
                <line x1="18" y1="34" x2="34" y2="34" />
                <line x1="82" y1="34" x2="98" y2="34" />
                <line x1="130" y1="34" x2="162" y2="34" />
                <line x1="226" y1="34" x2="258" y2="34" />
                <line x1="274" y1="34" x2="306" y2="34" />
                <line x1="18" y1="50" x2="50" y2="50" />
                <line x1="66" y1="50" x2="82" y2="50" />
                <line x1="98" y1="50" x2="162" y2="50" />
                <line x1="210" y1="50" x2="242" y2="50" />
                <line x1="274" y1="50" x2="306" y2="50" />
                <line x1="2" y1="66" x2="66" y2="66" />
                <line x1="98" y1="66" x2="114" y2="66" />
                <line x1="130" y1="66" x2="146" y2="66" />
                <line x1="162" y1="66" x2="178" y2="66" />
                <line x1="258" y1="66" x2="322" y2="66" />
                <line x1="18" y1="82" x2="50" y2="82" />
                <line x1="66" y1="82" x2="82" y2="82" />
                <line x1="114" y1="82" x2="130" y2="82" />
                <line x1="178" y1="82" x2="194" y2="82" />
                <line x1="242" y1="82" x2="290" y2="82" />
                <line x1="2" y1="98" x2="18" y2="98" />
                <line x1="66" y1="98" x2="114" y2="98" />
                <line x1="130" y1="98" x2="146" y2="98" />
                <line x1="162" y1="98" x2="178" y2="98" />
                <line x1="210" y1="98" x2="226" y2="98" />
                <line x1="242" y1="98" x2="258" y2="98" />
                <line x1="290" y1="98" x2="306" y2="98" />
                <line x1="18" y1="114" x2="82" y2="114" />
                <line x1="114" y1="114" x2="130" y2="114" />
                <line x1="146" y1="114" x2="162" y2="114" />
                <line x1="210" y1="114" x2="242" y2="114" />
                <line x1="258" y1="114" x2="290" y2="114" />
                <line x1="2" y1="130" x2="34" y2="130" />
                <line x1="66" y1="130" x2="82" y2="130" />
                <line x1="178" y1="130" x2="210" y2="130" />
                <line x1="242" y1="130" x2="258" y2="130" />
                <line x1="274" y1="130" x2="306" y2="130" />
                <line x1="18" y1="146" x2="50" y2="146" />
                <line x1="82" y1="146" x2="98" y2="146" />
                <line x1="114" y1="146" x2="146" y2="146" />
                <line x1="162" y1="146" x2="178" y2="146" />
                <line x1="210" y1="146" x2="226" y2="146" />
                <line x1="306" y1="146" x2="322" y2="146" />
                <line x1="2" y1="162" x2="34" y2="162" />
                <line x1="98" y1="162" x2="130" y2="162" />
                <line x1="194" y1="162" x2="210" y2="162" />
                <line x1="226" y1="162" x2="258" y2="162" />
                <line x1="290" y1="162" x2="306" y2="162" />
                <line x1="34" y1="178" x2="50" y2="178" />
                <line x1="82" y1="178" x2="98" y2="178" />
                <line x1="114" y1="178" x2="130" y2="178" />
                <line x1="210" y1="178" x2="242" y2="178" />
                <line x1="258" y1="178" x2="290" y2="178" />
                <line x1="50" y1="194" x2="66" y2="194" />
                <line x1="98" y1="194" x2="178" y2="194" />
                <line x1="194" y1="194" x2="226" y2="194" />
                <line x1="258" y1="194" x2="306" y2="194" />
                <line x1="50" y1="210" x2="66" y2="210" />
                <line x1="82" y1="210" x2="98" y2="210" />
                <line x1="210" y1="210" x2="274" y2="210" />
                <line x1="2" y1="226" x2="34" y2="226" />
                <line x1="114" y1="226" x2="130" y2="226" />
                <line x1="162" y1="226" x2="194" y2="226" />
                <line x1="226" y1="226" x2="242" y2="226" />
                <line x1="274" y1="226" x2="290" y2="226" />
                <line x1="66" y1="242" x2="130" y2="242" />
                <line x1="178" y1="242" x2="226" y2="242" />
                <line x1="242" y1="242" x2="274" y2="242" />
                <line x1="290" y1="242" x2="306" y2="242" />
                <line x1="34" y1="258" x2="50" y2="258" />
                <line x1="146" y1="258" x2="162" y2="258" />
                <line x1="194" y1="258" x2="210" y2="258" />
                <line x1="258" y1="258" x2="290" y2="258" />
                <line x1="306" y1="258" x2="322" y2="258" />
                <line x1="18" y1="274" x2="34" y2="274" />
                <line x1="50" y1="274" x2="146" y2="274" />
                <line x1="226" y1="274" x2="242" y2="274" />
                <line x1="290" y1="274" x2="306" y2="274" />
                <line x1="2" y1="290" x2="18" y2="290" />
                <line x1="66" y1="290" x2="114" y2="290" />
                <line x1="130" y1="290" x2="146" y2="290" />
                <line x1="162" y1="290" x2="178" y2="290" />
                <line x1="194" y1="290" x2="226" y2="290" />
                <line x1="242" y1="290" x2="274" y2="290" />
                <line x1="306" y1="290" x2="322" y2="290" />
                <line x1="18" y1="306" x2="50" y2="306" />
                <line x1="66" y1="306" x2="98" y2="306" />
                <line x1="162" y1="306" x2="194" y2="306" />
                <line x1="226" y1="306" x2="242" y2="306" />
                <line x1="290" y1="306" x2="306" y2="306" />
                <line x1="2" y1="322" x2="162" y2="322" />
                <line x1="178" y1="322" x2="322" y2="322" />
                <line x1="2" y1="2" x2="2" y2="322" />
                <line x1="18" y1="34" x2="18" y2="50" />
                <line x1="18" y1="162" x2="18" y2="210" />
                <line x1="18" y1="242" x2="18" y2="274" />
                <line x1="34" y1="18" x2="34" y2="34" />
                <line x1="34" y1="98" x2="34" y2="114" />
                <line x1="34" y1="178" x2="34" y2="242" />
                <line x1="34" y1="274" x2="34" y2="306" />
                <line x1="50" y1="34" x2="50" y2="50" />
                <line x1="50" y1="82" x2="50" y2="178" />
                <line x1="50" y1="226" x2="50" y2="290" />
                <line x1="50" y1="306" x2="50" y2="322" />
                <line x1="66" y1="18" x2="66" y2="50" />
                <line x1="66" y1="130" x2="66" y2="258" />
                <line x1="66" y1="290" x2="66" y2="306" />
                <line x1="82" y1="50" x2="82" y2="82" />
                <line x1="82" y1="114" x2="82" y2="130" />
                <line x1="82" y1="162" x2="82" y2="226" />
                <line x1="82" y1="258" x2="82" y2="274" />
                <line x1="98" y1="2" x2="98" y2="18" />
                <line x1="98" y1="34" x2="98" y2="50" />
                <line x1="98" y1="66" x2="98" y2="162" />
                <line x1="98" y1="194" x2="98" y2="210" />
                <line x1="98" y1="226" x2="98" y2="258" />
                <line x1="114" y1="18" x2="114" y2="34" />
                <line x1="114" y1="50" x2="114" y2="66" />
                <line x1="114" y1="98" x2="114" y2="114" />
                <line x1="114" y1="130" x2="114" y2="146" />
                <line x1="114" y1="178" x2="114" y2="194" />
                <line x1="114" y1="210" x2="114" y2="226" />
                <line x1="114" y1="258" x2="114" y2="274" />
                <line x1="114" y1="290" x2="114" y2="322" />
                <line x1="130" y1="34" x2="130" y2="50" />
                <line x1="130" y1="66" x2="130" y2="82" />
                <line x1="130" y1="114" x2="130" y2="146" />
                <line x1="130" y1="194" x2="130" y2="210" />
                <line x1="130" y1="226" x2="130" y2="274" />
                <line x1="130" y1="290" x2="130" y2="306" />
                <line x1="146" y1="66" x2="146" y2="130" />
                <line x1="146" y1="146" x2="146" y2="242" />
                <line x1="146" y1="274" x2="146" y2="290" />
                <line x1="146" y1="306" x2="146" y2="322" />
                <line x1="162" y1="50" x2="162" y2="82" />
                <line x1="162" y1="114" x2="162" y2="178" />
                <line x1="162" y1="210" x2="162" y2="274" />
                <line x1="162" y1="306" x2="162" y2="322" />
                <line x1="178" y1="2" x2="178" y2="66" />
                <line x1="178" y1="82" x2="178" y2="130" />
                <line x1="178" y1="146" x2="178" y2="210" />
                <line x1="178" y1="242" x2="178" y2="306" />
                <line x1="194" y1="18" x2="194" y2="82" />
                <line x1="194" y1="98" x2="194" y2="194" />
                <line x1="194" y1="210" x2="194" y2="242" />
                <line x1="194" y1="258" x2="194" y2="290" />
                <line x1="210" y1="18" x2="210" y2="82" />
                <line x1="210" y1="98" x2="210" y2="114" />
                <line x1="210" y1="194" x2="210" y2="226" />
                <line x1="210" y1="274" x2="210" y2="322" />
                <line x1="226" y1="18" x2="226" y2="34" />
                <line x1="226" y1="66" x2="226" y2="98" />
                <line x1="226" y1="114" x2="226" y2="162" />
                <line x1="226" y1="226" x2="226" y2="274" />
                <line x1="242" y1="2" x2="242" y2="18" />
                <line x1="242" y1="50" x2="242" y2="66" />
                <line x1="242" y1="98" x2="242" y2="114" />
                <line x1="242" y1="130" x2="242" y2="146" />
                <line x1="242" y1="162" x2="242" y2="210" />
                <line x1="242" y1="258" x2="242" y2="306" />
                <line x1="258" y1="18" x2="258" y2="66" />
                <line x1="258" y1="82" x2="258" y2="98" />
                <line x1="258" y1="114" x2="258" y2="162" />
                <line x1="258" y1="178" x2="258" y2="194" />
                <line x1="258" y1="210" x2="258" y2="226" />
                <line x1="258" y1="242" x2="258" y2="274" />
                <line x1="258" y1="306" x2="258" y2="322" />
                <line x1="274" y1="18" x2="274" y2="34" />
                <line x1="274" y1="98" x2="274" y2="114" />
                <line x1="274" y1="130" x2="274" y2="178" />
                <line x1="274" y1="226" x2="274" y2="242" />
                <line x1="274" y1="274" x2="274" y2="306" />
                <line x1="290" y1="2" x2="290" y2="18" />
                <line x1="290" y1="82" x2="290" y2="98" />
                <line x1="290" y1="146" x2="290" y2="162" />
                <line x1="290" y1="194" x2="290" y2="226" />
                <line x1="290" y1="258" x2="290" y2="274" />
                <line x1="290" y1="290" x2="290" y2="322" />
                <line x1="306" y1="34" x2="306" y2="50" />
                <line x1="306" y1="66" x2="306" y2="82" />
                <line x1="306" y1="98" x2="306" y2="130" />
                <line x1="306" y1="162" x2="306" y2="226" />
                <line x1="306" y1="242" x2="306" y2="258" />
                <line x1="306" y1="274" x2="306" y2="290" />
                <line x1="322" y1="2" x2="322" y2="322" />
            </g>
            <polyline id="solution" ref="solution" fill="none" stroke="#ff0000" stroke-width="2" stroke-linecap="square"
                stroke-linejoin="round"
                points="154,2 154,10 106,10 106,26 74,26 74,42 90,42 90,90 58,90 58,106 90,106 90,138 74,138 74,234 90,234 90,218 106,218 106,202 122,202 122,218 138,218 138,250 154,250 154,202 170,202 170,218 186,218 186,202 202,202 202,234 218,234 218,218 250,218 250,234 234,234 234,250 250,250 250,282 266,282 266,266 282,266 282,314 266,314 266,298 250,298 250,314 218,314 218,298 234,298 234,282 218,282 218,250 186,250 186,298 202,298 202,314 170,314 170,322" />
        </svg>
    </div>
</template>

<style>

line {
    stroke: #3C560C;
    stroke-width: 5;
}

#solution {
    stroke: #88CE02;
    stroke-width: 5;
}

svg {
    cursor: pointer;
}</style>